<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="es">
<head>
<!-- Generated by javadoc (16) on Fri May 20 15:49:22 CEST 2022 -->
<title>NLPUtils</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2022-05-20">
<meta name="description" content="declaration: package: util, class: NLPUtils">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
<script type="text/javascript" src="../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar.top">
<div class="skip-nav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.top.firstrow" class="nav-list" title="Navigation">
<li><a href="../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip.navbar.top">
<!--   -->
</span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">util</a></div>
<h1 title="Class NLPUtils" class="title">Class NLPUtils</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">util.NLPUtils</div>
</div>
<section class="description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">NLPUtils</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Clase dedicada a todas las herramientas necesarias para el funcionamiento del chatbot.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor.summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><span class="member-name-link"><a href="#%3Cinit%3E()">NLPUtils</a></span>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method.summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#categorizar(java.lang.String)">categorizar</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;frase)</code></div>
<div class="col-last even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">
<div class="block">Este mÃ©todo utilizara el modelo "cat-custom-figuras.bin" entrenado en el metodo categorizerTrain() para obtener
 la acciÃ³n mas adecuada a la frase introducida.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#categorizerTrain()">categorizerTrain</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">
<div class="block">En este metodo entrenaremos el fichero "figuras-categorizer.txt", otro fichero creado por mi para asignar una
 categoria a cada frase introducida por el usuarios para decidir que acciÃ³n llevar a cabo.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]</code></div>
<div class="col-second even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#Lemmatizar(java.lang.String%5B%5D,java.lang.String%5B%5D)">Lemmatizar</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;tokens,
 <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;tags)</code></div>
<div class="col-last even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">
<div class="block">A partir de cada token y su categoria gramatical (obtenida en el PartOfSpeechTag) obtenemos la palabra base
 o infinitivo para evitar confusiones con las familias o tiempos verbales.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static opennlp.tools.util.Span[]</code></div>
<div class="col-second odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#NamedEntityRecognition(java.lang.String%5B%5D)">NamedEntityRecognition</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;lemmas)</code></div>
<div class="col-last odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">
<div class="block">Este metodo utilizara el modelo ner-custom-figuras.bin (entrenado en el mÃ©todo NERTrain()) para coger el array de
 lemmas obtenido en el lemmatizer y asignar a cada lemma (palabra) su categoria mas adecuada.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#NERTrain()">NERTrain</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">
<div class="block">Este metodo se ejecuta al iniciar el programa
 Este metodo inicializara el "entrenador" o "detector" de palabras.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]</code></div>
<div class="col-second odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#PartOfSpeechTag(java.lang.String%5B%5D)">PartOfSpeechTag</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;tokens)</code></div>
<div class="col-last odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">
<div class="block">Cogemos la frase ya tokenizada y obtenemos un tag para cada token (palabra) corespondiente
 a su categoria gramatical (Verbo, Sustantivo, Adjetivo...).</div>
</div>
<div class="col-first even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]</code></div>
<div class="col-second even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#Tokenizar(java.lang.String)">Tokenizar</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;frase)</code></div>
<div class="col-last even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">
<div class="block">Este metodo separa la frase introducida en palabras denomindadas "tokens" para su posterior analisis individual.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor.detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>NLPUtils</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">NLPUtils</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method.detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="Tokenizar(java.lang.String)">
<h3>Tokenizar</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]</span>&nbsp;<span class="element-name">Tokenizar</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;frase)</span></div>
<div class="block">Este metodo separa la frase introducida en palabras denomindadas "tokens" para su posterior analisis individual.
 Adicionalmente, se pueden mostrar las probabilidades de detecciÃ³n de cada palabra.
 Para mas detalles consultar los comentarios en el codigo.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>frase</code> - Frase a tokenizar</dd>
<dt>Returns:</dt>
<dd>Devuleve un array de tokens o palabras</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="PartOfSpeechTag(java.lang.String[])">
<h3>PartOfSpeechTag</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]</span>&nbsp;<span class="element-name">PartOfSpeechTag</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;tokens)</span></div>
<div class="block">Cogemos la frase ya tokenizada y obtenemos un tag para cada token (palabra) corespondiente
 a su categoria gramatical (Verbo, Sustantivo, Adjetivo...). Esto facilitara que el "lemmatizer"
 elimine los cambios en la palabra (Tiepo verbal, genero, modificador...) y devuelva la palabra base
 que aparece en los diccionarios. (P.Ej: pintame -Verbo -> pintar).
 Para mas detalles consultar los comentarios en el codigo.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>tokens</code> - Array de palabras</dd>
<dt>Returns:</dt>
<dd>Devuleve un array con los tags o categorias gramaticales de cada token</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="Lemmatizar(java.lang.String[],java.lang.String[])">
<h3>Lemmatizar</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]</span>&nbsp;<span class="element-name">Lemmatizar</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;tokens,
 <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;tags)</span></div>
<div class="block">A partir de cada token y su categoria gramatical (obtenida en el PartOfSpeechTag) obtenemos la palabra base
 o infinitivo para evitar confusiones con las familias o tiempos verbales.
 En la consola se puede observar todo el trabajo de fondo.
 Para mas detalles consultar los comentarios en el cÃ³digo.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>tokens</code> - Array de tokens a analizar</dd>
<dd><code>tags</code> - Array de tags con las categorÃ­as gramaticales de cada token</dd>
<dt>Returns:</dt>
<dd>Devuelve un array de Strings</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="NERTrain()">
<h3>NERTrain</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">NERTrain</span>()</div>
<div class="block">Este metodo se ejecuta al iniciar el programa
 Este metodo inicializara el "entrenador" o "detector" de palabras. En nuestro caso nos interesa que sepa
 distinguir que tipo de figura vamos a pintar, las coordenadas donde la pintaremos, el tamaÃ±o de
 la figura, su color y si tendra o no relleno. En internet existen modelos pre-entrenados para sacar
 nombres, localizaciones, fechas... pero en estos casos lo mejor es crearte tu propio NER. En mi caso,
 he creado el fichero figuras-train.txt con unas 500 frases diferentes para que tenga suficientes ejemplos
 y pueda predecir con exactitud. (Normalmente sulen tener hasta 15000 frases).
 Para mas detalles consultar los comentarios en el codigo.</div>
</section>
</li>
<li>
<section class="detail" id="NamedEntityRecognition(java.lang.String[])">
<h3>NamedEntityRecognition</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">opennlp.tools.util.Span[]</span>&nbsp;<span class="element-name">NamedEntityRecognition</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;lemmas)</span></div>
<div class="block">Este metodo utilizara el modelo ner-custom-figuras.bin (entrenado en el mÃ©todo NERTrain()) para coger el array de
 lemmas obtenido en el lemmatizer y asignar a cada lemma (palabra) su categoria mas adecuada. (P.Ej: circulo -> figura, verde -> color).
 Posteriormente utilizaremos dicha categoria para decirle al programa todas las caracteristicas de la figura que deseamos pintar.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>lemmas</code> - Array de lemmas</dd>
<dt>Returns:</dt>
<dd>Devuelve un array de tipo Span que contiene la categoria de cada palabra</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="categorizerTrain()">
<h3>categorizerTrain</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">categorizerTrain</span>()
                             throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">En este metodo entrenaremos el fichero "figuras-categorizer.txt", otro fichero creado por mi para asignar una
 categoria a cada frase introducida por el usuarios para decidir que acciÃ³n llevar a cabo. Normalmente se suelen usar
 chatbots mas avanzados para esta tarea, por lo que al haber tenido que definir yo todas las frases posibles puede
 que el bot no detecte ciertas ordenes.
 En este caso pondremos CUTOFF_PARAM a un valor muy bajo ya que trabajamos con pocas muestras.
 Utilizaremos BagOfWordsFeatureGenerator para que trate cada palabra como una "feature" es decir, cada palabra
 es importante y has de tenerla en cuenta.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - Lanza excepciones que son recogidas en otras partes del cÃ³digo para mayor comodidad.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="categorizar(java.lang.String)">
<h3>categorizar</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">categorizar</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;frase)</span></div>
<div class="block">Este mÃ©todo utilizara el modelo "cat-custom-figuras.bin" entrenado en el metodo categorizerTrain() para obtener
 la acciÃ³n mas adecuada a la frase introducida. (pintar, saludar, borrar...).
 En la consola se puede observar todo el trabajo de fondo.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>frase</code> - Frase a analizar</dd>
<dt>Returns:</dt>
<dd>Devuelve un String con la categorÃ­a seleccionada.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
